<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><!-- start: printthread -->
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title>Plugin Telegram Connector - Printable Version</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<style type="text/css">
body { font-family: Verdana, Arial, sans-serif; font-size: 13px; }
.largetext { font-family: Verdana, Arial, sans-serif; font-size: medium; font-weight: bold; }
img { max-width: 100%; height: auto; }
</style>
</head>
<body>
<table width="98%" align="center">
<tr>
<td valign="top"><a href="index-2.html"><img src="images/emerald/logo.html" alt="Burgershot" title="Burgershot" border="0" /></a></td>
</tr>
<tr>
<td>
<span class="largetext"><span style="color: #1FDE4B;font-weight: bold;">[Plugin]</span> <a href="showthread42a0.html?tid=130">Telegram Connector</a> - Printable Version</span><br />
<br />
+- Burgershot (<em>https://www.burgershot.gg</em>)<br />
<!-- start: printthread_nav -->
+-- Forum: SA-MP (<i>https://www.burgershot.gg/forumdisplay.php?fid=3</i>)<br />
<!-- end: printthread_nav --><!-- start: printthread_nav -->
+--- Forum: Releases (<i>https://www.burgershot.gg/forumdisplay.php?fid=13</i>)<br />
<!-- end: printthread_nav --><!-- start: printthread_nav -->
+---- Forum: Plugins (<i>https://www.burgershot.gg/forumdisplay.php?fid=32</i>)<br />
<!-- end: printthread_nav -->
+---- Thread: <span style="color: #1FDE4B;font-weight: bold;">[Plugin]</span> Telegram Connector (<em>/showthread.php?tid=130</em>)<br />
<br />
</td>
</tr>
<tr>
<td><br /><hr size="1" /><!-- start: printthread_post -->
<strong>Telegram Connector</strong> - <a href="membere4c9.html?action=profile&amp;uid=43">SyS</a> -  <strong>2019-04-14</strong>
<br />
<br />
<div style="text-align: center;" class="mycode_align"><span style="color: #0088cc;" class="mycode_color"><span style="font-size: xx-large;" class="mycode_size"><span style="font-weight: bold;" class="mycode_b">TgConnector</span></span></span></div>
<br />
<div style="text-align: center;" class="mycode_align"><a href="https://travis-ci.org/Sreyas-Sreelal/tgconnector" target="_blank" rel="noopener" class="mycode_url"><img src="https://travis-ci.org/Sreyas-Sreelal/tgconnector.svg?branch=master" loading="lazy"  alt="[Image: tgconnector.svg?branch=master]" class="mycode_img" /></a> <a href="https://ci.appveyor.com/project/Sreyas-Sreelal/tgconnector" target="_blank" rel="noopener" class="mycode_url"><img src="https://ci.appveyor.com/api/projects/status/snip8i9cd6xh2x1u?svg=true" loading="lazy"  alt="[Image: snip8i9cd6xh2x1u?svg=true]" class="mycode_img" /></a> <a href="https://github.com/Sreyas-Sreelal/tgconnector" target="_blank" rel="noopener" class="mycode_url"><img src="https://shields.southcla.ws/badge/sampctl-TGConnector-2f2f2f.svg" loading="lazy"  alt="[Image: sampctl-TGConnector-2f2f2f.svg]" class="mycode_img" /></a> <a href="https://github.com/Sreyas-Sreelal/tgconnector/issues" target="_blank" rel="noopener" class="mycode_url"><img src="https://img.shields.io/github/issues/Sreyas-Sreelal/tgconnector.svg" loading="lazy"  alt="[Image: tgconnector.svg]" class="mycode_img" /></a> <a href="https://github.com/Sreyas-Sreelal/tgconnector/pulls" target="_blank" rel="noopener" class="mycode_url"><img src="https://img.shields.io/github/issues-pr-raw/sreyas-sreelal/tgconnector.svg" loading="lazy"  alt="[Image: tgconnector.svg]" class="mycode_img" /></a> <a href="http://license/" target="_blank" rel="noopener" class="mycode_url"><img src="https://img.shields.io/github/license/sreyas-sreelal/tgconnector.svg" loading="lazy"  alt="[Image: tgconnector.svg]" class="mycode_img" /></a></div>
<br />
<div style="text-align: center;" class="mycode_align">A telegram connector plugin that helps to interact with <a href="https://core.telegram.org/bots" target="_blank" rel="noopener" class="mycode_url">telgram bots</a> through SA-MP.</div>
<br />
<span style="color: #2c2f33;" class="mycode_color"><span style="font-size: x-large;" class="mycode_size"><span style="font-weight: bold;" class="mycode_b">Installing</span></span></span><br />
<br />
If you are a sampctl user<br />
<br />
<span style="font-family: courier new;" class="mycode_font"><div class="codeblock phpcodeblock"><div class="title">PHP Code:</div><div class="body"><div dir="ltr"><code><span style="color: #0000BB">sampctl&nbsp;p&nbsp;install&nbsp;Sreyas</span><span style="color: #007700">-</span><span style="color: #0000BB">Sreelal</span><span style="color: #007700">/</span><span style="color: #0000BB">tgconnector&nbsp;<br /></span></code></div></div></div></span><br />
<br />
<span style="color: SlateGray;" class="mycode_color"><span style="font-size: medium;" class="mycode_size">OR</span></span><br />
<ul class="mycode_list"><li>Download suitable binary files from releases for your operating system<br />
</li>
<li>Add it your <span style="font-family: courier new;" class="mycode_font">plugins</span> folder<br />
</li>
<li>Add <span style="font-family: courier new;" class="mycode_font">tgconnector</span> to server.cfg or  <span style="font-family: courier new;" class="mycode_font">tgconnector.so</span> (for linux)<br />
</li>
<li>Add <a href="http://include/tgconnector.inc" target="_blank" rel="noopener" class="mycode_url">tgconnector.inc</a> in includes folder<br />
</li>
</ul>
<span style="color: #2c2f33;" class="mycode_color"><span style="font-size: x-large;" class="mycode_size"><span style="font-weight: bold;" class="mycode_b">Building</span></span></span><br />
<ul class="mycode_list"><li>Clone the repo<br />
<br />
<span style="font-family: courier new;" class="mycode_font"><div class="codeblock phpcodeblock"><div class="title">PHP Code:</div><div class="body"><div dir="ltr"><code><span style="color: #0000BB">git&nbsp;</span><span style="color: #007700">clone&nbsp;</span><span style="color: #0000BB">https</span><span style="color: #007700">:</span><span style="color: #FF8000">//github.com/sreyas-sreelal/tgconnector.git&nbsp;<br /></span></code></div></div></div></span><br />
<br />
</li>
<li>Use makefile to compile and test<br />
<ul class="mycode_list"><li>Setup testing environment<br />
<br />
<span style="font-family: courier new;" class="mycode_font"><div class="codeblock phpcodeblock"><div class="title">PHP Code:</div><div class="body"><div dir="ltr"><code><span style="color: #0000BB">make&nbsp;setup&nbsp;<br /></span></code></div></div></div></span><br />
<br />
</li>
<li>To build release version<br />
<br />
<span style="font-family: courier new;" class="mycode_font"><div class="codeblock phpcodeblock"><div class="title">PHP Code:</div><div class="body"><div dir="ltr"><code><span style="color: #0000BB">make&nbsp;release&nbsp;<br /></span></code></div></div></div></span><br />
<br />
</li>
<li>Run tests<br />
<br />
<span style="font-family: courier new;" class="mycode_font"><div class="codeblock phpcodeblock"><div class="title">PHP Code:</div><div class="body"><div dir="ltr"><code><span style="color: #0000BB">make&nbsp;run&nbsp;<br /></span></code></div></div></div></span><br />
</li>
</ul>
</li>
</ul>
<br />
<span style="color: #2c2f33;" class="mycode_color"><span style="font-size: x-large;" class="mycode_size"><span style="font-weight: bold;" class="mycode_b">Example</span></span></span><br />
<br />
<span style="font-weight: bold;" class="mycode_b">A basic bot</span><br />
<br />
<div class="codeblock phpcodeblock"><div class="title">PHP Code:</div><div class="body"><div dir="ltr"><code><span style="color: #FF8000">#include&lt;a_samp&gt;<br />#include&lt;tgconnector&gt;<br />#include&lt;zcmd&gt;<br /><br />#define&nbsp;CHAT_ID&nbsp;(TGChatId:"YOUR_CHAT_ID_HERE")<br /><br /></span><span style="color: #007700">new&nbsp;</span><span style="color: #0000BB">TGBot</span><span style="color: #007700">:</span><span style="color: #0000BB">g_bot</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">main</span><span style="color: #007700">()&nbsp;{<br /></span><span style="color: #FF8000">//Store&nbsp;bot&nbsp;token&nbsp;in&nbsp;SAMP_TG_BOT&nbsp;environment&nbsp;variable&nbsp;and&nbsp;connect&nbsp;from&nbsp;it<br /></span><span style="color: #0000BB">g_bot&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">TGConnectFromEnv</span><span style="color: #007700">(</span><span style="color: #DD0000">"SAMP_TG_BOT"</span><span style="color: #007700">);<br />if(</span><span style="color: #0000BB">g_bot&nbsp;</span><span style="color: #007700">!=&nbsp;</span><span style="color: #0000BB">INVALID_BOT_ID</span><span style="color: #007700">)&nbsp;{<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"bot&nbsp;connected&nbsp;successfully!"</span><span style="color: #007700">);<br />}&nbsp;else&nbsp;{<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Error:&nbsp;bot&nbsp;couldn't&nbsp;connect"</span><span style="color: #007700">);<br />}<br />}<br /><br />public&nbsp;</span><span style="color: #0000BB">OnTGMessage</span><span style="color: #007700">(</span><span style="color: #0000BB">TGBot</span><span style="color: #007700">:</span><span style="color: #0000BB">bot</span><span style="color: #007700">,</span><span style="color: #0000BB">TGUser</span><span style="color: #007700">:</span><span style="color: #0000BB">fromid</span><span style="color: #007700">,</span><span style="color: #0000BB">TGMessage</span><span style="color: #007700">:</span><span style="color: #0000BB">messageid</span><span style="color: #007700">)&nbsp;{<br /><br />if(</span><span style="color: #0000BB">g_bot&nbsp;</span><span style="color: #007700">!=&nbsp;</span><span style="color: #0000BB">bot</span><span style="color: #007700">){<br />return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">new <br />message</span><span style="color: #007700">[</span><span style="color: #0000BB">50</span><span style="color: #007700">],<br /></span><span style="color: #0000BB">username</span><span style="color: #007700">[</span><span style="color: #0000BB">24</span><span style="color: #007700">],<br /></span><span style="color: #0000BB">chatname</span><span style="color: #007700">[</span><span style="color: #0000BB">56</span><span style="color: #007700">],<br /></span><span style="color: #0000BB">server_msg</span><span style="color: #007700">[</span><span style="color: #0000BB">128</span><span style="color: #007700">];<br /><br /></span><span style="color: #0000BB">TGCacheGetMessage</span><span style="color: #007700">(</span><span style="color: #0000BB">message</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">TGCacheGetUserName</span><span style="color: #007700">(</span><span style="color: #0000BB">username</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">TGCacheGetChatName</span><span style="color: #007700">(</span><span style="color: #0000BB">chatname</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #0000BB">server_msg</span><span style="color: #007700">,</span><span style="color: #0000BB">128</span><span style="color: #007700">,</span><span style="color: #DD0000">"[%s]&nbsp;%s(%d):&nbsp;%s"</span><span style="color: #007700">,</span><span style="color: #0000BB">chatname</span><span style="color: #007700">,</span><span style="color: #0000BB">username</span><span style="color: #007700">,</span><span style="color: #0000BB">_</span><span style="color: #007700">:</span><span style="color: #0000BB">fromid</span><span style="color: #007700">,</span><span style="color: #0000BB">message</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">SendClientMessageToAll</span><span style="color: #007700">(-</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">server_msg</span><span style="color: #007700">);<br /><br />return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}<br /><br /><br />public&nbsp;</span><span style="color: #0000BB">OnTGUserJoined</span><span style="color: #007700">(</span><span style="color: #0000BB">TGBot</span><span style="color: #007700">:</span><span style="color: #0000BB">bot</span><span style="color: #007700">,</span><span style="color: #0000BB">TGUser</span><span style="color: #007700">:</span><span style="color: #0000BB">userid</span><span style="color: #007700">)&nbsp;{<br /></span><span style="color: #0000BB">new <br />TGChatId</span><span style="color: #007700">:</span><span style="color: #0000BB">chatid</span><span style="color: #007700">[</span><span style="color: #0000BB">15</span><span style="color: #007700">],<br /></span><span style="color: #0000BB">username</span><span style="color: #007700">[</span><span style="color: #0000BB">24</span><span style="color: #007700">],<br /></span><span style="color: #0000BB">chatname</span><span style="color: #007700">[</span><span style="color: #0000BB">56</span><span style="color: #007700">],<br /></span><span style="color: #0000BB">server_msg</span><span style="color: #007700">[</span><span style="color: #0000BB">128</span><span style="color: #007700">];<br /><br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #FF8000">//Retrive&nbsp;data&nbsp;stored&nbsp;in&nbsp;current&nbsp;context<br /></span><span style="color: #0000BB">TGCacheGetUserName</span><span style="color: #007700">(</span><span style="color: #0000BB">username</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">TGCacheGetChatId</span><span style="color: #007700">(</span><span style="color: #0000BB">chatid</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">TGCacheGetChatName</span><span style="color: #007700">(</span><span style="color: #0000BB">chatname</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #0000BB">server_msg</span><span style="color: #007700">,</span><span style="color: #0000BB">128</span><span style="color: #007700">,</span><span style="color: #DD0000">"User&nbsp;%s(%d)&nbsp;joined&nbsp;%s(%s)"</span><span style="color: #007700">,</span><span style="color: #0000BB">username</span><span style="color: #007700">,</span><span style="color: #0000BB">_</span><span style="color: #007700">:</span><span style="color: #0000BB">userid</span><span style="color: #007700">,</span><span style="color: #0000BB">chatname</span><span style="color: #007700">,</span><span style="color: #0000BB">_</span><span style="color: #007700">:</span><span style="color: #0000BB">chatid</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">SendClientMessageToAll</span><span style="color: #007700">(-</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">server_msg</span><span style="color: #007700">);<br />return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}<br /><br />public&nbsp;</span><span style="color: #0000BB">OnTGUserLeft</span><span style="color: #007700">(</span><span style="color: #0000BB">TGBot</span><span style="color: #007700">:</span><span style="color: #0000BB">bot</span><span style="color: #007700">,</span><span style="color: #0000BB">TGUser</span><span style="color: #007700">:</span><span style="color: #0000BB">userid</span><span style="color: #007700">)&nbsp;{<br /></span><span style="color: #0000BB">new <br />TGChatId</span><span style="color: #007700">:</span><span style="color: #0000BB">chatid</span><span style="color: #007700">[</span><span style="color: #0000BB">15</span><span style="color: #007700">],<br /></span><span style="color: #0000BB">username</span><span style="color: #007700">[</span><span style="color: #0000BB">24</span><span style="color: #007700">],<br /></span><span style="color: #0000BB">chatname</span><span style="color: #007700">[</span><span style="color: #0000BB">56</span><span style="color: #007700">],<br /></span><span style="color: #0000BB">server_msg</span><span style="color: #007700">[</span><span style="color: #0000BB">128</span><span style="color: #007700">];<br /><br /></span><span style="color: #0000BB">TGCacheGetUserName</span><span style="color: #007700">(</span><span style="color: #0000BB">username</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">TGCacheGetChatId</span><span style="color: #007700">(</span><span style="color: #0000BB">chatid</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">TGCacheGetChatName</span><span style="color: #007700">(</span><span style="color: #0000BB">chatname</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #0000BB">server_msg</span><span style="color: #007700">,</span><span style="color: #0000BB">128</span><span style="color: #007700">,</span><span style="color: #DD0000">"User&nbsp;%s(%d)&nbsp;left&nbsp;%s(%s)"</span><span style="color: #007700">,</span><span style="color: #0000BB">username</span><span style="color: #007700">,</span><span style="color: #0000BB">_</span><span style="color: #007700">:</span><span style="color: #0000BB">userid</span><span style="color: #007700">,</span><span style="color: #0000BB">chatname</span><span style="color: #007700">,</span><span style="color: #0000BB">_</span><span style="color: #007700">:</span><span style="color: #0000BB">chatid</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">SendClientMessageToAll</span><span style="color: #007700">(-</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">server_msg</span><span style="color: #007700">);<br />return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">CMD</span><span style="color: #007700">:</span><span style="color: #0000BB">sendtgmessage</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,</span><span style="color: #0000BB">params</span><span style="color: #007700">[])&nbsp;{<br /></span><span style="color: #0000BB">TGSendMessage</span><span style="color: #007700">(</span><span style="color: #0000BB">g_bot</span><span style="color: #007700">,</span><span style="color: #0000BB">CHAT_ID</span><span style="color: #007700">,</span><span style="color: #0000BB">params</span><span style="color: #007700">);<br />return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}&nbsp;<br /></span></code></div></div></div><br />
<span style="color: #2c2f33;" class="mycode_color"><span style="font-size: x-large;" class="mycode_size"><span style="font-weight: bold;" class="mycode_b">Notes</span></span></span><br />
<br />
This plugin is still in WIP and more tests need to be done.If you find any bugs or have anything to contribute feel free to open an issue or pull request on github.<br />
Also be sure to not to share your bot token with anyone it's recommended to store it inside a environment variable.<br />
<br />
<span style="color: #2c2f33;" class="mycode_color"><span style="font-size: x-large;" class="mycode_size"><span style="font-weight: bold;" class="mycode_b">Repository</span></span></span><br />
<br />
Source: <a href="https://github.com/Sreyas-Sreelal/tgconnector" target="_blank" rel="noopener" class="mycode_url">https://github.com/Sreyas-Sreelal/tgconnector</a><br />
Releases: <a href="https://github.com/Sreyas-Sreelal/tgconnector/releases" target="_blank" rel="noopener" class="mycode_url">https://github.com/Sreyas-Sreelal/tgconnector/releases</a><br />
Wiki: <a href="https://github.com/Sreyas-Sreelal/tgconnector/wiki" target="_blank" rel="noopener" class="mycode_url">https://github.com/Sreyas-Sreelal/tgconnector/wiki</a> (Not complete yet)
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
<strong>RE: Telegram Connector</strong> - <a href="member0e0d.html?action=profile&amp;uid=538">Salesman</a> -  <strong>2019-04-16</strong>
<br />
<br />
This could be really usefull, for telegram users ofc, nice work!
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
<strong>RE: Telegram Connector</strong> - <a href="membere4c9.html?action=profile&amp;uid=43">SyS</a> -  <strong>2019-05-14</strong>
<br />
<br />
New version released!<br />
https://github.com/Sreyas-Sreelal/tgconnector/releases/tag/0.1.1
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
<strong>RE: Telegram Connector</strong> - <a href="member1768.html?action=profile&amp;uid=315">Gravityfalls</a> -  <strong>2019-05-14</strong>
<br />
<br />
good release.
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
<strong>RE: Telegram Connector</strong> - <a href="member81f8.html?action=profile&amp;uid=340">Sasino97</a> -  <strong>2019-06-11</strong>
<br />
<br />
This is some amazing stuff dude, congratulations
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
<strong>RE: Telegram Connector</strong> - <a href="membere4c9.html?action=profile&amp;uid=43">SyS</a> -  <strong>2020-05-01</strong>
<br />
<br />
Telegram Connector v0.30 released!<br />
https://github.com/Sreyas-Sreelal/tgconnector/releases/tag/0.3.0
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
<strong>RE: Telegram Connector</strong> - <a href="membere4c9.html?action=profile&amp;uid=43">SyS</a> -  <strong>2020-07-10</strong>
<br />
<br />
Telegram Connector v0.3.1<br />
<br />
Updated the rust sdk to latest version that fixes the issue of samp-gdk conflict occurred randomly for some people.<br />
<br />
https://github.com/Sreyas-Sreelal/tg...ases/tag/0.3.1
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --></td>
</tr>
</table>
</body>
</html>
<!-- end: printthread -->