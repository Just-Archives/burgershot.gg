<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><!-- start: printthread -->
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title>Pawn [HELP] Fully eliminating weapon when no ammo left - Printable Version</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<style type="text/css">
body { font-family: Verdana, Arial, sans-serif; font-size: 13px; }
.largetext { font-family: Verdana, Arial, sans-serif; font-size: medium; font-weight: bold; }
img { max-width: 100%; height: auto; }
</style>
</head>
<body>
<table width="98%" align="center">
<tr>
<td valign="top"><a href="index-2.html"><img src="images/emerald/logo.html" alt="Burgershot" title="Burgershot" border="0" /></a></td>
</tr>
<tr>
<td>
<span class="largetext"><span style="color: #ff7c7c;font-weight: bold;">[Pawn]</span> <a href="showthread5ea3.html?tid=1515">[HELP] Fully eliminating weapon when no ammo left</a> - Printable Version</span><br />
<br />
+- Burgershot (<em>https://www.burgershot.gg</em>)<br />
<!-- start: printthread_nav -->
+-- Forum: SA-MP (<i>https://www.burgershot.gg/forumdisplay.php?fid=3</i>)<br />
<!-- end: printthread_nav --><!-- start: printthread_nav -->
+--- Forum: Pawn Scripting (<i>https://www.burgershot.gg/forumdisplay.php?fid=10</i>)<br />
<!-- end: printthread_nav -->
+--- Thread: <span style="color: #ff7c7c;font-weight: bold;">[Pawn]</span> [HELP] Fully eliminating weapon when no ammo left (<em>/showthread.php?tid=1515</em>)<br />
<br />
</td>
</tr>
<tr>
<td><br /><hr size="1" /><!-- start: printthread_post -->
<strong>[HELP] Fully eliminating weapon when no ammo left</strong> - <a href="member999a.html?action=profile&amp;uid=3288">Smyle</a> -  <strong>2021-01-11</strong>
<br />
<br />
Hey.<br />
<br />
So, since a while ago i was having an issue when finishing using a weapon (when i shot the last bullet left). As we all know, when we're using GetPlayerWeaponData, old weapons with no ammo left are still returned and basically that fucks everything up if you're checking if a player already has that specific weapon by using the GetPlayerWeaponData function.<br />
<br />
So my question is: Is there any way we can like reset or eliminate that weapon when whe shot the last bullet for the last time? As i said, the weapon vanishes, but it still shows up on GetPlayerWeaponData.<br />
<br />
I already tried to remove it when shooting and checking if it was the last bullet using OnPlayerWeaponShot, but i had no success on it.<br />
<br />
Please, help!  +REP to those who can give me a good answer.<br />
<br />
<div style="text-align: right;" class="mycode_align">Thank yall.</div>
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
<strong>RE: [HELP] Fully eliminating weapon when no ammo left</strong> - <a href="membere74b.html?action=profile&amp;uid=664">gzxmx94</a> -  <strong>2021-01-12</strong>
<br />
<br />
And why can't you keep track of the weapons the player has with GivePlayerWeapon (+OnPlayerWeaponShot) ?
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
<strong>RE: [HELP] Fully eliminating weapon when no ammo left</strong> - <a href="member8633.html?action=profile&amp;uid=42">Pinch</a> -  <strong>2021-01-12</strong>
<br />
<br />
<span style="text-decoration: line-through;" class="mycode_s">https://github.com/BrunoBM16/samp-packet-list/wiki/Packet-List#id_weapons_update---id-204<br />
<br />
Use pawn raknet and IPacket 204</span><br />
<br />
EDIT: Why are y'all paining yourselves, just use fixes bro<br />
https://github.com/pawn-lang/sa-mp-fixes
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
<strong>RE: [HELP] Fully eliminating weapon when no ammo left</strong> - <a href="member999a.html?action=profile&amp;uid=3288">Smyle</a> -  <strong>2021-01-14</strong>
<br />
<br />
Thank you, @Pinch. <br />
<br />
That should work. REP+ as promised.
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --></td>
</tr>
</table>
</body>
</html>
<!-- end: printthread -->