<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><!-- start: printthread -->
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title> Make simple entrance - Printable Version</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<style type="text/css">
body { font-family: Verdana, Arial, sans-serif; font-size: 13px; }
.largetext { font-family: Verdana, Arial, sans-serif; font-size: medium; font-weight: bold; }
img { max-width: 100%; height: auto; }
</style>
</head>
<body>
<table width="98%" align="center">
<tr>
<td valign="top"><a href="index-2.html"><img src="images/emerald/logo.html" alt="Burgershot" title="Burgershot" border="0" /></a></td>
</tr>
<tr>
<td>
<span class="largetext"> <a href="showthreadafc3.html?tid=1153">Make simple entrance</a> - Printable Version</span><br />
<br />
+- Burgershot (<em>https://www.burgershot.gg</em>)<br />
<!-- start: printthread_nav -->
+-- Forum: SA-MP (<i>https://www.burgershot.gg/forumdisplay.php?fid=3</i>)<br />
<!-- end: printthread_nav --><!-- start: printthread_nav -->
+--- Forum: Tutorials (<i>https://www.burgershot.gg/forumdisplay.php?fid=37</i>)<br />
<!-- end: printthread_nav -->
+--- Thread:  Make simple entrance (<em>/showthread.php?tid=1153</em>)<br />
<br />
</td>
</tr>
<tr>
<td><br /><hr size="1" /><!-- start: printthread_post -->
<strong>Make simple entrance</strong> - <a href="memberbf62.html?action=profile&amp;uid=1608">Tama</a> -  <strong>2020-07-30</strong>
<br />
<br />
Hello guys, today i want to teach you how to make a simple entrance, it's easy to make entrance.<br />
All you need to do just follow my instruction, okay ;)<br />
<br />
First, you need to download these includes below.<ul class="mycode_list"><li>sscanf -&gt; <a href="https://github.com/maddinat0r/sscanf/releases" target="_blank" rel="noopener" class="mycode_url">https://github.com/maddinat0r/sscanf/releases</a><br />
</li>
<li>streamer -&gt;<a href="https://github.com/samp-incognito/samp-streamer-plugin/releases" target="_blank" rel="noopener" class="mycode_url">https://github.com/samp-incognito/samp-streamer-plugin/releases</a><br />
</li>
<li>Pawn.CMD -&gt; <a href="https://github.com/urShadow/Pawn.CMD/releases" target="_blank" rel="noopener" class="mycode_url">https://github.com/urShadow/Pawn.CMD/releases</a> (or you can download your own version of CMD processor)<br />
</li>
</ul>
Then you need to extract each of that include to each folder. If you found .dll file, put it on Plugins and if you found .inc file you can put on "pawno/includes"<br />
Okay, i assuming you have extracted the include/plugins, now let's get started.<br />
<br />
Make a base script, like this:<br />
<div class="codeblock phpcodeblock"><div class="title">PHP Code:</div><div class="body"><div dir="ltr"><code><span style="color: #FF8000">#define&nbsp;FILTERSCRIPT<br /><br />#include&nbsp;&lt;a_samp&gt;<br />#include&nbsp;&lt;sscanf2&gt;<br />#include&nbsp;&lt;streamer&gt;<br />#include&nbsp;&lt;Pawn.CMD&gt;<br /><br /></span><span style="color: #007700">public&nbsp;</span><span style="color: #0000BB">OnFilterScriptInit</span><span style="color: #007700">()</span><span style="color: #0000BB"> </span><span style="color: #007700">{<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}<br /><br />public&nbsp;</span><span style="color: #0000BB">OnFilterScriptExit</span><span style="color: #007700">()</span><span style="color: #0000BB"> </span><span style="color: #007700">{<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}&nbsp;<br /></span></code></div></div></div><br />
Add MAX_ENTRANCE, enum (alias), and public variable like this:<br />
<div class="codeblock phpcodeblock"><div class="title">PHP Code:</div><div class="body"><div dir="ltr"><code><span style="color: #FF8000">#define&nbsp;MAX_ENTRANCE&nbsp;22&nbsp;//&nbsp;maximum&nbsp;entrance&nbsp;"server"&nbsp;could&nbsp;handle/store&nbsp;temporarily<br /><br /></span><span style="color: #0000BB">enum <br /> &nbsp;  e_ENTRANCE_DATA&nbsp;</span><span style="color: #007700">{<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;bool</span><span style="color: #007700">:</span><span style="color: #0000BB">isExists</span><span style="color: #007700">,&nbsp;</span><span style="color: #FF8000">//&nbsp;checking&nbsp;if&nbsp;entrance&nbsp;exists<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;name</span><span style="color: #007700">[</span><span style="color: #0000BB">24</span><span style="color: #007700">],&nbsp;</span><span style="color: #FF8000">//&nbsp;entrance&nbsp;name<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;Float</span><span style="color: #007700">:</span><span style="color: #0000BB">pos</span><span style="color: #007700">[</span><span style="color: #0000BB">3</span><span style="color: #007700">],&nbsp;</span><span style="color: #FF8000">//&nbsp;outside&nbsp;position<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;Float</span><span style="color: #007700">:</span><span style="color: #0000BB">intPos</span><span style="color: #007700">[</span><span style="color: #0000BB">3</span><span style="color: #007700">],&nbsp;</span><span style="color: #FF8000">//&nbsp;inside&nbsp;position<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;int</span><span style="color: #007700">,&nbsp;</span><span style="color: #FF8000">//&nbsp;interior&nbsp;id<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;world&nbsp;</span><span style="color: #FF8000">//&nbsp;world&nbsp;id<br /></span><span style="color: #007700">};<br />new&nbsp;</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">MAX_ENTRANCE</span><span style="color: #007700">][</span><span style="color: #0000BB">e_ENTRANCE_DATA</span><span style="color: #007700">];&nbsp;<br /></span></code></div></div></div><br />
Next step is making a command, use your word like "entrancecreate, entranceedit, entrancedelete" or anything for the command name.<br />
And adding "security" like IsPlayerAdmin(playerid) you can preventing people from creating a entrance.<br />
You can do like this if you want:<br />
<div class="codeblock phpcodeblock"><div class="title">PHP Code:</div><div class="body"><div dir="ltr"><code><span style="color: #0000BB">CMD</span><span style="color: #007700">:</span><span style="color: #0000BB">makeentrance</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">params</span><span style="color: #007700">[])&nbsp;{<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">if&nbsp;(!</span><span style="color: #0000BB">IsPlayerAdmin</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">))&nbsp;return&nbsp;</span><span style="color: #0000BB">SendClientMessage</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"You&nbsp;are&nbsp;not&nbsp;administrator"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">if&nbsp;(!</span><span style="color: #0000BB">isnull</span><span style="color: #007700">(</span><span style="color: #0000BB">params</span><span style="color: #007700">))&nbsp;return&nbsp;</span><span style="color: #0000BB">SendClientMessage</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"/makeentrance&nbsp;&lt;name&gt;"</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;tell&nbsp;player&nbsp;if&nbsp;"params"&nbsp;is&nbsp;null&nbsp;<br /></span></code></div></div></div><br />
Inside the cmd, you need to add this.<br />
<div class="codeblock phpcodeblock"><div class="title">PHP Code:</div><div class="body"><div dir="ltr"><code><span style="color: #0000BB"> &nbsp; </span><span style="color: #FF8000">//&nbsp;getting&nbsp;the&nbsp;next&nbsp;slot&nbsp;with&nbsp;checking&nbsp;if&nbsp;isExists&nbsp;on&nbsp;"i"&nbsp;variable is&nbsp;false<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">for&nbsp;(new&nbsp;</span><span style="color: #0000BB">i</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">MAX_ENTRANCE</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">i&nbsp;</span><span style="color: #007700">++)&nbsp;if&nbsp;(!</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">i</span><span style="color: #007700">][</span><span style="color: #0000BB">isExists</span><span style="color: #007700">])&nbsp;{<br /><br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;storing&nbsp;useful&nbsp;data&nbsp;to&nbsp;server,&nbsp;this&nbsp;prevents&nbsp;for&nbsp;"false&nbsp;detection"<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">i</span><span style="color: #007700">][</span><span style="color: #0000BB">isExists</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp;  </span><span style="color: #FF8000">//you&nbsp;can&nbsp;use&nbsp;strcat&nbsp;if&nbsp;you&nbsp;want,&nbsp;but&nbsp;i&nbsp;prefer&nbsp;format<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;format</span><span style="color: #007700">(</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">i</span><span style="color: #007700">][</span><span style="color: #0000BB">name</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">24</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">params</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; </span><span style="color: #FF8000">//&nbsp;getting&nbsp;player&nbsp;position&nbsp;and&nbsp;angle&nbsp;for&nbsp;teleport/spawning&nbsp;pickup<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;GetPlayerPos</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">i</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">0</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">i</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">1</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">i</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">2</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;GetPlayerFacingAngle</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">i</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">3</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; <br /> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;spawning&nbsp;"dynamic&nbsp;pickup"&nbsp;on&nbsp;stored&nbsp;location<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">i</span><span style="color: #007700">][</span><span style="color: #0000BB">text</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">CreateDynamic3DTextLabel</span><span style="color: #007700">(</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">i</span><span style="color: #007700">][</span><span style="color: #0000BB">name</span><span style="color: #007700">],&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">i</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">0</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">i</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">1</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">i</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">2</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">4.0</span><span style="color: #007700">);<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">i</span><span style="color: #007700">][</span><span style="color: #0000BB">model</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">CreateDynamicPickup</span><span style="color: #007700">(</span><span style="color: #0000BB">modelid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">type</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">i</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">0</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">i</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">1</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">i</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">2</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp;  </span><span style="color: #FF8000">//&nbsp;and&nbsp;tell&nbsp;player&nbsp;if&nbsp;everything&nbsp;done<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp;  SendClientMessage</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"Successfully&nbsp;making&nbsp;a&nbsp;entrance"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /></span><span style="color: #0000BB"> &nbsp;  </span><span style="color: #007700">}<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; </span><span style="color: #FF8000">//&nbsp;if&nbsp;MAX_ENTRANCE&nbsp;has&nbsp;reached,&nbsp;tell&nbsp;player<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; SendClientMessage</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"Server&nbsp;cannot&nbsp;handle&nbsp;more&nbsp;entrance"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; return&nbsp;1</span><span style="color: #007700">;<br />}&nbsp;<br /></span></code></div></div></div><br />
That code will checking if number within "i" variable is free to use, and if is then the code will set isExists to prevent "overwriting" data/false detection.<br />
And storing player position and angle is useful for teleporting and "spawning" pickup on that positon.<br />
<br />
After making command for creating entrance, now you need to make another command for storing interior position, so you can enter/exit.<br />
For example, i will make "entrancepos" instead "entranceedit" because i want to make things simpler.<br />
<div class="codeblock phpcodeblock"><div class="title">PHP Code:</div><div class="body"><div dir="ltr"><code><span style="color: #0000BB">CMD</span><span style="color: #007700">:</span><span style="color: #0000BB">interiorentrance</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">params</span><span style="color: #007700">[])&nbsp;{<br /></span><span style="color: #0000BB"> &nbsp;  <br /> &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;make&nbsp;local&nbsp;variable&nbsp;first&nbsp;to&nbsp;avoid&nbsp;warning/error<br /></span><span style="color: #0000BB"> &nbsp;  new&nbsp;entId</span><span style="color: #007700">;<br /></span><span style="color: #0000BB"> &nbsp;  <br /> &nbsp; </span><span style="color: #FF8000">//&nbsp;check&nbsp;if&nbsp;player&nbsp;not&nbsp;input&nbsp;anything&nbsp;or&nbsp;if&nbsp;player&nbsp;input&nbsp;is&nbsp;NaN<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">sscanf</span><span style="color: #007700">(</span><span style="color: #0000BB">params</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"i"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">entId</span><span style="color: #007700">))<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">SendClientMessage</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"/nteriorentrance&lt;entrance&nbsp;ID&gt;"</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;then&nbsp;tell&nbsp;player&nbsp;to&nbsp;do&nbsp;like&nbsp;this.<br /></span><span style="color: #0000BB">  <br /> &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;check&nbsp;again&nbsp;if&nbsp;entrance&nbsp;is&nbsp;valid,&nbsp;using&nbsp;this&nbsp;method&nbsp;will&nbsp;avoid&nbsp;any&nbsp;warning&nbsp;like&nbsp;"Array&nbsp;out&nbsp;of&nbsp;bonds"<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">if&nbsp;((</span><span style="color: #0000BB">entId&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">||&nbsp;</span><span style="color: #0000BB">entId&nbsp;</span><span style="color: #007700">&gt;=&nbsp;</span><span style="color: #0000BB">MAX_ENTRANCE</span><span style="color: #007700">)&nbsp;&amp;&amp;&nbsp;(!</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">isExists</span><span style="color: #007700">]))<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">SendClientMessage</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"Invalid&nbsp;entrance&nbsp;ID"</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;if&nbsp;is,&nbsp;tell&nbsp;player&nbsp;that&nbsp;ID&nbsp;is&nbsp;not&nbsp;exists.<br /><br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;if&nbsp;things&nbsp;are&nbsp;clear,&nbsp;now&nbsp;we&nbsp;can&nbsp;safely&nbsp;store&nbsp;our&nbsp;position&nbsp;to&nbsp;Entrance&nbsp;Data.<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;GetPlayerPos</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">0</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">1</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">2</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;GetPlayerFacingAngle</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">3</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB"> <br /> &nbsp; &nbsp;EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">int</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">GetPlayerInterior</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">);<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">world</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">GetPlayerVirtualWorld</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">);<br /></span><span style="color: #0000BB"> &nbsp;  <br /> &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;tell&nbsp;player&nbsp;if&nbsp;script&nbsp;successfully&nbsp;storing&nbsp;data.<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;SendClientMessage</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"Successfully&nbsp;editing&nbsp;Entrance&nbsp;Interior"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}&nbsp;<br /></span></code></div></div></div><br />
We're finish making those command, now the last but not least.. Making a delete command.<br />
<div class="codeblock phpcodeblock"><div class="title">PHP Code:</div><div class="body"><div dir="ltr"><code><span style="color: #0000BB">CMD</span><span style="color: #007700">:</span><span style="color: #0000BB">deleteentrance</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">params</span><span style="color: #007700">[])&nbsp;{<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;make&nbsp;local&nbsp;variable&nbsp;first&nbsp;to&nbsp;avoid&nbsp;warning/error<br /></span><span style="color: #0000BB"> &nbsp;  new&nbsp;entId</span><span style="color: #007700">;<br /></span><span style="color: #0000BB"> &nbsp;  <br /> &nbsp; </span><span style="color: #FF8000">//&nbsp;check&nbsp;if&nbsp;player&nbsp;not&nbsp;input&nbsp;anything&nbsp;or&nbsp;if&nbsp;player&nbsp;input&nbsp;is&nbsp;NaN<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">sscanf</span><span style="color: #007700">(</span><span style="color: #0000BB">params</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"i"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">entId</span><span style="color: #007700">))<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">SendClientMessage</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"/deleteentrance&nbsp;&lt;entrance&nbsp;ID&gt;"</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;then&nbsp;tell&nbsp;player&nbsp;to&nbsp;do&nbsp;like&nbsp;this.<br /></span><span style="color: #0000BB">  <br /> &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;check&nbsp;again&nbsp;if&nbsp;entrance&nbsp;is&nbsp;valid,&nbsp;using&nbsp;this&nbsp;method&nbsp;will&nbsp;avoid&nbsp;any&nbsp;warning&nbsp;like&nbsp;"Array&nbsp;out&nbsp;of&nbsp;bonds"<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">if&nbsp;((</span><span style="color: #0000BB">entId&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">||&nbsp;</span><span style="color: #0000BB">entId&nbsp;</span><span style="color: #007700">&gt;=&nbsp;</span><span style="color: #0000BB">MAX_ENTRANCE</span><span style="color: #007700">)&nbsp;&amp;&amp;&nbsp;(!</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">isExists</span><span style="color: #007700">]))<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">SendClientMessage</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"Invalid&nbsp;entrance&nbsp;ID"</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;if&nbsp;is,&nbsp;tell&nbsp;player&nbsp;that&nbsp;ID&nbsp;is&nbsp;not&nbsp;exists.<br /><br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;okay first,&nbsp;we&nbsp;gonna&nbsp;kick&nbsp;people&nbsp;if&nbsp;they&nbsp;are&nbsp;inside&nbsp;of&nbsp;what&nbsp;we&nbsp;want&nbsp;to&nbsp;destroy/delete.<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">for&nbsp;(new&nbsp;</span><span style="color: #0000BB">i</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">j&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">GetPlayerPoolSize</span><span style="color: #007700">();&nbsp;</span><span style="color: #0000BB">i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">j</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">i&nbsp;</span><span style="color: #007700">++)&nbsp;if&nbsp;(</span><span style="color: #0000BB">PlayerInEntrance</span><span style="color: #007700">[</span><span style="color: #0000BB">i</span><span style="color: #007700">]&nbsp;==&nbsp;</span><span style="color: #0000BB">entId</span><span style="color: #007700">)&nbsp;{<br /><br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;SetPlayerPos</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">0</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">1</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">2</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;SetPlayerFacingAngle</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">3</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB"> <br /> &nbsp; &nbsp; &nbsp; &nbsp;SetPlayerInterior</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;SetPlayerVirtualWorld</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;PlayerInEntrance</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">]&nbsp;=&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">}<br /><br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;and let's&nbsp;destroy&nbsp;entrance&nbsp;pickup&nbsp;and&nbsp;text.<br /></span><span style="color: #0000BB"> &nbsp;  if&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">IsValidDynamic3DTextLabel</span><span style="color: #007700">(</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">text</span><span style="color: #007700">]))<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;DestroyDynamic3DTextLabel</span><span style="color: #007700">(</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">text</span><span style="color: #007700">]);<br /><br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">IsValidDynamicPickup</span><span style="color: #007700">(</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">model</span><span style="color: #007700">]))<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;DestroyDynamicPickup</span><span style="color: #007700">(</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">model</span><span style="color: #007700">]);<br /><br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;if&nbsp;things&nbsp;are&nbsp;clear,&nbsp;now&nbsp;we&nbsp;can&nbsp;safely&nbsp;reset Entrance&nbsp;Data.<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">new&nbsp;</span><span style="color: #0000BB">tmpReset</span><span style="color: #007700">[</span><span style="color: #0000BB">e_ENTRANCE_DATA</span><span style="color: #007700">];<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">]</span><span style="color: #0000BB"> </span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">tmpReset</span><span style="color: #007700">;<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">isExists</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">;<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}&nbsp;<br /></span></code></div></div></div><br />
Now we're done with command, lets go to the next step.<br />
Okay, we need to make a code so people can enter a entrance with "F" or whatever key you'll use.<br />
Lets say i want to make "F" for enter/exit the entrance.<br />
<div class="codeblock phpcodeblock"><div class="title">PHP Code:</div><div class="body"><div dir="ltr"><code><span style="color: #007700">public&nbsp;</span><span style="color: #0000BB">OnPlayerKeyStatechange</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">newkeys</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">oldkeys</span><span style="color: #007700">)&nbsp;{<br /><br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;this&nbsp;code is&nbsp;detecting&nbsp;if&nbsp;player&nbsp;pressed&nbsp;KEY_FIRE&nbsp;(F/Enter/LMB/TAB)<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">if&nbsp;((</span><span style="color: #0000BB">newkeys&nbsp;</span><span style="color: #007700">&amp;&nbsp;</span><span style="color: #0000BB">KEY_FIRE</span><span style="color: #007700">)&nbsp;&amp;&amp;&nbsp;!(</span><span style="color: #0000BB">oldkeys&nbsp;</span><span style="color: #007700">&amp;&nbsp;</span><span style="color: #0000BB">KEY_FIRE</span><span style="color: #007700">))&nbsp;{<br /><br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp;  </span><span style="color: #FF8000">//making&nbsp;local&nbsp;variabel&nbsp;for&nbsp;storing&nbsp;entrance&nbsp;ID<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #007700">new&nbsp;</span><span style="color: #0000BB">entId</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;we&nbsp;need&nbsp;to&nbsp;make&nbsp;a&nbsp;function&nbsp;which&nbsp;detects&nbsp;if&nbsp;player&nbsp;is&nbsp;nearing&nbsp;any<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;entrance&nbsp;within&nbsp;radius&nbsp;2.5,&nbsp;if&nbsp;does then&nbsp;script returning&nbsp;a&nbsp;entrance&nbsp;ID.<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #007700">if&nbsp;((</span><span style="color: #0000BB">entId&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">GetNearestEntrance</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2.5</span><span style="color: #007700">))&nbsp;!=&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br /><br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;after&nbsp;that,&nbsp;teleport&nbsp;player&nbsp;to&nbsp;inside of&nbsp;nearest&nbsp;entrance<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SetPlayerPos</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">intPos</span><span style="color: #007700">][</span><span style="color: #0000BB">0</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">intPos</span><span style="color: #007700">][</span><span style="color: #0000BB">1</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">intPos</span><span style="color: #007700">][</span><span style="color: #0000BB">2</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SetPlayerFacingAngle</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">intPos</span><span style="color: #007700">][</span><span style="color: #0000BB">3</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB"> <br /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SetPlayerInterior</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">int</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SetPlayerVirtualWorld</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">world</span><span style="color: #007700">]);<br /><br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;storing&nbsp;entrance&nbsp;ID&nbsp;to&nbsp;player&nbsp;variable,&nbsp;so&nbsp;we&nbsp;can&nbsp;use&nbsp;that&nbsp;later.<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PlayerInEntrance</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">entId</span><span style="color: #007700">;<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #007700">}</span><span style="color: #0000BB"> <br /><br /> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;this&nbsp;code&nbsp;checking&nbsp;player&nbsp;if&nbsp;they&nbsp;pressed&nbsp;"F"/KEY_FIRE&nbsp;and&nbsp;player&nbsp;in&nbsp;near&nbsp;exit&nbsp;+&nbsp;player&nbsp;inside&nbsp;a&nbsp;entrance.<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #007700">if&nbsp;((</span><span style="color: #0000BB">entId&nbsp;</span><span style="color: #007700">=</span><span style="color: #0000BB"> PlayerInEntrance</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">]&nbsp;!=&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">)</span><span style="color: #0000BB"> </span><span style="color: #007700">&amp;&amp;&nbsp;</span><span style="color: #0000BB">IsPlayerInRangeOfPoint</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2.5</span><span style="color: #007700">,</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">intPos</span><span style="color: #007700">][</span><span style="color: #0000BB">0</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">intPos</span><span style="color: #007700">][</span><span style="color: #0000BB">1</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">intPos</span><span style="color: #007700">][</span><span style="color: #0000BB">2</span><span style="color: #007700">]))&nbsp;{<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;after&nbsp;that,&nbsp;teleport&nbsp;player&nbsp;to&nbsp;outside of&nbsp;nearest&nbsp;entrance<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SetPlayerPos</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">0</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">1</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">2</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SetPlayerFacingAngle</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">3</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB"> <br /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SetPlayerInterior</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SetPlayerVirtualWorld</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;change player&nbsp;variable&nbsp;to&nbsp;-1&nbsp;to&nbsp;avoid&nbsp;false&nbsp;detection.<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PlayerInEntrance</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">]&nbsp;=&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #007700">}<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">}<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}&nbsp;<br /></span></code></div></div></div><br />
Last but not least, we're gonna make "function" to check is player near any entrance <br />
and returning entrance ID if that entrance is closest to player than any entrance.<br />
<br />
<div class="codeblock phpcodeblock"><div class="title">PHP Code:</div><div class="body"><div dir="ltr"><code><span style="color: #0000BB">GetNearestEntrance</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">Float</span><span style="color: #007700">:</span><span style="color: #0000BB">radius&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">4.0</span><span style="color: #007700">)&nbsp;{<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">for&nbsp;(new&nbsp;</span><span style="color: #0000BB">i</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">MAX_ENTRANCE</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">i&nbsp;</span><span style="color: #007700">++)&nbsp;if&nbsp;(</span><span style="color: #0000BB">IsPlayerInRangeOfPoint</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2.5</span><span style="color: #007700">,</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">0</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">1</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">2</span><span style="color: #007700">]))&nbsp;{<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">i</span><span style="color: #007700">;</span><span style="color: #0000BB"> &nbsp;  <br /> &nbsp;  </span><span style="color: #007700">}<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">return&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}&nbsp;<br /></span></code></div></div></div><br />
Yaay, we finish making Entrance System, if you don't understand please reply so i/other people can give you proper way to make you understand.<br />
Sorry if my bad english hehe ~<br />
<br />
Oh yeah, btw here is the full code:<br />
<div class="codeblock phpcodeblock"><div class="title">PHP Code:</div><div class="body"><div dir="ltr"><code><span style="color: #FF8000">#define&nbsp;FILTERSCRIPT<br /><br />#include&nbsp;&lt;a_samp&gt;<br />#include&nbsp;&lt;sscanf2&gt;<br />#include&nbsp;&lt;streamer&gt;<br />#include&nbsp;&lt;Pawn.CMD&gt;<br /><br /></span><span style="color: #007700">public&nbsp;</span><span style="color: #0000BB">OnFilterScriptInit</span><span style="color: #007700">()</span><span style="color: #0000BB"> </span><span style="color: #007700">{<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}<br /><br />public&nbsp;</span><span style="color: #0000BB">OnFilterScriptExit</span><span style="color: #007700">()</span><span style="color: #0000BB"> </span><span style="color: #007700">{<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">CMD</span><span style="color: #007700">:</span><span style="color: #0000BB">makeentrance</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">params</span><span style="color: #007700">[])&nbsp;{<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">if&nbsp;(!</span><span style="color: #0000BB">IsPlayerAdmin</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">))&nbsp;return&nbsp;</span><span style="color: #0000BB">SendClientMessage</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"You&nbsp;are&nbsp;not&nbsp;administrator"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">if&nbsp;(!</span><span style="color: #0000BB">isnull</span><span style="color: #007700">(</span><span style="color: #0000BB">params</span><span style="color: #007700">))&nbsp;return&nbsp;</span><span style="color: #0000BB">SendClientMessage</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"/makeentrance&nbsp;&lt;name&gt;"</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;tell&nbsp;player&nbsp;if&nbsp;"params"&nbsp;is&nbsp;null<br /><br /></span><span style="color: #0000BB"> &nbsp; </span><span style="color: #FF8000">//&nbsp;getting&nbsp;the&nbsp;next&nbsp;slot&nbsp;with&nbsp;checking&nbsp;if&nbsp;isExists&nbsp;on&nbsp;"i"&nbsp;variable is&nbsp;false<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">for&nbsp;(new&nbsp;</span><span style="color: #0000BB">i</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">MAX_ENTRANCE</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">i&nbsp;</span><span style="color: #007700">++)&nbsp;if&nbsp;(!</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">i</span><span style="color: #007700">][</span><span style="color: #0000BB">isExists</span><span style="color: #007700">])&nbsp;{<br /><br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;storing&nbsp;useful&nbsp;data&nbsp;to&nbsp;server,&nbsp;this&nbsp;prevents&nbsp;for&nbsp;"false&nbsp;detection"<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">i</span><span style="color: #007700">][</span><span style="color: #0000BB">isExists</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp;  </span><span style="color: #FF8000">//you&nbsp;can&nbsp;use&nbsp;strcat&nbsp;if&nbsp;you&nbsp;want,&nbsp;but&nbsp;i&nbsp;prefer&nbsp;format<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;format</span><span style="color: #007700">(</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">i</span><span style="color: #007700">][</span><span style="color: #0000BB">name</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">24</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">params</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; </span><span style="color: #FF8000">//&nbsp;getting&nbsp;player&nbsp;position&nbsp;and&nbsp;angle&nbsp;for&nbsp;teleport/spawning&nbsp;pickup<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;GetPlayerPos</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">i</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">0</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">i</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">1</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">i</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">2</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;GetPlayerFacingAngle</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">i</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">3</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; <br /> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;spawning&nbsp;"dynamic&nbsp;pickup"&nbsp;on&nbsp;stored&nbsp;location<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">i</span><span style="color: #007700">][</span><span style="color: #0000BB">text</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">CreateDynamic3DTextLabel</span><span style="color: #007700">(</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">i</span><span style="color: #007700">][</span><span style="color: #0000BB">name</span><span style="color: #007700">],&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">i</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">0</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">i</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">1</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">i</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">2</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">4.0</span><span style="color: #007700">);<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">i</span><span style="color: #007700">][</span><span style="color: #0000BB">model</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">CreateDynamicPickup</span><span style="color: #007700">(</span><span style="color: #0000BB">modelid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">type</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">i</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">0</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">i</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">1</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">i</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">2</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp;  </span><span style="color: #FF8000">//&nbsp;and&nbsp;tell&nbsp;player&nbsp;if&nbsp;everything&nbsp;done<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp;  SendClientMessage</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"Successfully&nbsp;making&nbsp;a&nbsp;entrance"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /></span><span style="color: #0000BB"> &nbsp;  </span><span style="color: #007700">}<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; </span><span style="color: #FF8000">//&nbsp;if&nbsp;MAX_ENTRANCE&nbsp;has&nbsp;reached,&nbsp;tell&nbsp;player<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; SendClientMessage</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"Server&nbsp;cannot&nbsp;handle&nbsp;more&nbsp;entrance"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; return&nbsp;1</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">CMD</span><span style="color: #007700">:</span><span style="color: #0000BB">interiorentrance</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">params</span><span style="color: #007700">[])&nbsp;{<br /></span><span style="color: #0000BB"> &nbsp;  <br /> &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;make&nbsp;local&nbsp;variable&nbsp;first&nbsp;to&nbsp;avoid&nbsp;warning/error<br /></span><span style="color: #0000BB"> &nbsp;  new&nbsp;entId</span><span style="color: #007700">;<br /></span><span style="color: #0000BB"> &nbsp;  <br /> &nbsp; </span><span style="color: #FF8000">//&nbsp;check&nbsp;if&nbsp;player&nbsp;not&nbsp;input&nbsp;anything&nbsp;or&nbsp;if&nbsp;player&nbsp;input&nbsp;is&nbsp;NaN<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">sscanf</span><span style="color: #007700">(</span><span style="color: #0000BB">params</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"i"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">entId</span><span style="color: #007700">))<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">SendClientMessage</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"/nteriorentrance&lt;entrance&nbsp;ID&gt;"</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;then&nbsp;tell&nbsp;player&nbsp;to&nbsp;do&nbsp;like&nbsp;this.<br /></span><span style="color: #0000BB">  <br /> &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;check&nbsp;again&nbsp;if&nbsp;entrance&nbsp;is&nbsp;valid,&nbsp;using&nbsp;this&nbsp;method&nbsp;will&nbsp;avoid&nbsp;any&nbsp;warning&nbsp;like&nbsp;"Array&nbsp;out&nbsp;of&nbsp;bonds"<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">if&nbsp;((</span><span style="color: #0000BB">entId&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">||&nbsp;</span><span style="color: #0000BB">entId&nbsp;</span><span style="color: #007700">&gt;=&nbsp;</span><span style="color: #0000BB">MAX_ENTRANCE</span><span style="color: #007700">)&nbsp;&amp;&amp;&nbsp;(!</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">isExists</span><span style="color: #007700">]))<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">SendClientMessage</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"Invalid&nbsp;entrance&nbsp;ID"</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;if&nbsp;is,&nbsp;tell&nbsp;player&nbsp;that&nbsp;ID&nbsp;is&nbsp;not&nbsp;exists.<br /><br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;if&nbsp;things&nbsp;are&nbsp;clear,&nbsp;now&nbsp;we&nbsp;can&nbsp;safely&nbsp;store&nbsp;our&nbsp;position&nbsp;to&nbsp;Entrance&nbsp;Data.<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;GetPlayerPos</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">0</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">1</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">2</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;GetPlayerFacingAngle</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">3</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB"> <br /> &nbsp; &nbsp;EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">int</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">GetPlayerInterior</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">);<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">world</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">GetPlayerVirtualWorld</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">);<br /></span><span style="color: #0000BB"> &nbsp;  <br /> &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;tell&nbsp;player&nbsp;if&nbsp;script&nbsp;successfully&nbsp;storing&nbsp;data.<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;SendClientMessage</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"Successfully&nbsp;editing&nbsp;Entrance&nbsp;Interior"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">CMD</span><span style="color: #007700">:</span><span style="color: #0000BB">deleteentrance</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">params</span><span style="color: #007700">[])&nbsp;{<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;make&nbsp;local&nbsp;variable&nbsp;first&nbsp;to&nbsp;avoid&nbsp;warning/error<br /></span><span style="color: #0000BB"> &nbsp;  new&nbsp;entId</span><span style="color: #007700">;<br /></span><span style="color: #0000BB"> &nbsp;  <br /> &nbsp; </span><span style="color: #FF8000">//&nbsp;check&nbsp;if&nbsp;player&nbsp;not&nbsp;input&nbsp;anything&nbsp;or&nbsp;if&nbsp;player&nbsp;input&nbsp;is&nbsp;NaN<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">sscanf</span><span style="color: #007700">(</span><span style="color: #0000BB">params</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"i"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">entId</span><span style="color: #007700">))<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">SendClientMessage</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"/deleteentrance&nbsp;&lt;entrance&nbsp;ID&gt;"</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;then&nbsp;tell&nbsp;player&nbsp;to&nbsp;do&nbsp;like&nbsp;this.<br /></span><span style="color: #0000BB">  <br /> &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;check&nbsp;again&nbsp;if&nbsp;entrance&nbsp;is&nbsp;valid,&nbsp;using&nbsp;this&nbsp;method&nbsp;will&nbsp;avoid&nbsp;any&nbsp;warning&nbsp;like&nbsp;"Array&nbsp;out&nbsp;of&nbsp;bonds"<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">if&nbsp;((</span><span style="color: #0000BB">entId&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">||&nbsp;</span><span style="color: #0000BB">entId&nbsp;</span><span style="color: #007700">&gt;=&nbsp;</span><span style="color: #0000BB">MAX_ENTRANCE</span><span style="color: #007700">)&nbsp;&amp;&amp;&nbsp;(!</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">isExists</span><span style="color: #007700">]))<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">SendClientMessage</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"Invalid&nbsp;entrance&nbsp;ID"</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;if&nbsp;is,&nbsp;tell&nbsp;player&nbsp;that&nbsp;ID&nbsp;is&nbsp;not&nbsp;exists.<br /><br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;okay first,&nbsp;we&nbsp;gonna&nbsp;kick&nbsp;people&nbsp;if&nbsp;they&nbsp;are&nbsp;inside&nbsp;of&nbsp;what&nbsp;we&nbsp;want&nbsp;to&nbsp;destroy/delete.<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">for&nbsp;(new&nbsp;</span><span style="color: #0000BB">i</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">j&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">GetPlayerPoolSize</span><span style="color: #007700">();&nbsp;</span><span style="color: #0000BB">i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">j</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">i&nbsp;</span><span style="color: #007700">++)&nbsp;if&nbsp;(</span><span style="color: #0000BB">PlayerInEntrance</span><span style="color: #007700">[</span><span style="color: #0000BB">i</span><span style="color: #007700">]&nbsp;==&nbsp;</span><span style="color: #0000BB">entId</span><span style="color: #007700">)&nbsp;{<br /><br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;SetPlayerPos</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">0</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">1</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">2</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;SetPlayerFacingAngle</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">3</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB"> <br /> &nbsp; &nbsp; &nbsp; &nbsp;SetPlayerInterior</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;SetPlayerVirtualWorld</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;PlayerInEntrance</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">]&nbsp;=&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">}<br /><br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;and let's&nbsp;destroy&nbsp;entrance&nbsp;pickup&nbsp;and&nbsp;text.<br /></span><span style="color: #0000BB"> &nbsp;  if&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">IsValidDynamic3DTextLabel</span><span style="color: #007700">(</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">text</span><span style="color: #007700">]))<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;DestroyDynamic3DTextLabel</span><span style="color: #007700">(</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">text</span><span style="color: #007700">]);<br /><br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">IsValidDynamicPickup</span><span style="color: #007700">(</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">model</span><span style="color: #007700">]))<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;DestroyDynamicPickup</span><span style="color: #007700">(</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">model</span><span style="color: #007700">]);<br /><br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;if&nbsp;things&nbsp;are&nbsp;clear,&nbsp;now&nbsp;we&nbsp;can&nbsp;safely&nbsp;reset Entrance&nbsp;Data.<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">new&nbsp;</span><span style="color: #0000BB">tmpReset</span><span style="color: #007700">[</span><span style="color: #0000BB">e_ENTRANCE_DATA</span><span style="color: #007700">];<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">]</span><span style="color: #0000BB"> </span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">tmpReset</span><span style="color: #007700">;<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">isExists</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">;<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}<br /><br />public&nbsp;</span><span style="color: #0000BB">OnPlayerKeyStatechange</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">newkeys</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">oldkeys</span><span style="color: #007700">)&nbsp;{<br /><br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;this&nbsp;code is&nbsp;detecting&nbsp;if&nbsp;player&nbsp;pressed&nbsp;KEY_FIRE&nbsp;(F/Enter/LMB/TAB)<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">if&nbsp;((</span><span style="color: #0000BB">newkeys&nbsp;</span><span style="color: #007700">&amp;&nbsp;</span><span style="color: #0000BB">KEY_FIRE</span><span style="color: #007700">)&nbsp;&amp;&amp;&nbsp;!(</span><span style="color: #0000BB">oldkeys&nbsp;</span><span style="color: #007700">&amp;&nbsp;</span><span style="color: #0000BB">KEY_FIRE</span><span style="color: #007700">))&nbsp;{<br /><br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp;  </span><span style="color: #FF8000">//making&nbsp;local&nbsp;variabel&nbsp;for&nbsp;storing&nbsp;entrance&nbsp;ID<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #007700">new&nbsp;</span><span style="color: #0000BB">entId</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;we&nbsp;need&nbsp;to&nbsp;make&nbsp;a&nbsp;function&nbsp;which&nbsp;detects&nbsp;if&nbsp;player&nbsp;is&nbsp;nearing&nbsp;any<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;entrance&nbsp;within&nbsp;radius&nbsp;2.5,&nbsp;if&nbsp;does then&nbsp;script returning&nbsp;a&nbsp;entrance&nbsp;ID.<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #007700">if&nbsp;((</span><span style="color: #0000BB">entId&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">GetNearestEntrance</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2.5</span><span style="color: #007700">))&nbsp;!=&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;{<br /><br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;after&nbsp;that,&nbsp;teleport&nbsp;player&nbsp;to&nbsp;inside of&nbsp;nearest&nbsp;entrance<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SetPlayerPos</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">intPos</span><span style="color: #007700">][</span><span style="color: #0000BB">0</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">intPos</span><span style="color: #007700">][</span><span style="color: #0000BB">1</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">intPos</span><span style="color: #007700">][</span><span style="color: #0000BB">2</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SetPlayerFacingAngle</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">intPos</span><span style="color: #007700">][</span><span style="color: #0000BB">3</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB"> <br /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SetPlayerInterior</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">int</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SetPlayerVirtualWorld</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">world</span><span style="color: #007700">]);<br /><br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;storing&nbsp;entrance&nbsp;ID&nbsp;to&nbsp;player&nbsp;variable,&nbsp;so&nbsp;we&nbsp;can&nbsp;use&nbsp;that&nbsp;later.<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PlayerInEntrance</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">entId</span><span style="color: #007700">;<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #007700">}</span><span style="color: #0000BB"> <br /><br /> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;this&nbsp;code&nbsp;checking&nbsp;player&nbsp;if&nbsp;they&nbsp;pressed&nbsp;"F"/KEY_FIRE&nbsp;and&nbsp;player&nbsp;in&nbsp;near&nbsp;exit&nbsp;+&nbsp;player&nbsp;inside&nbsp;a&nbsp;entrance.<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #007700">if&nbsp;((</span><span style="color: #0000BB">entId&nbsp;</span><span style="color: #007700">=</span><span style="color: #0000BB"> PlayerInEntrance</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">]&nbsp;!=&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">)</span><span style="color: #0000BB"> </span><span style="color: #007700">&amp;&amp;&nbsp;</span><span style="color: #0000BB">IsPlayerInRangeOfPoint</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2.5</span><span style="color: #007700">,</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">intPos</span><span style="color: #007700">][</span><span style="color: #0000BB">0</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">intPos</span><span style="color: #007700">][</span><span style="color: #0000BB">1</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">intPos</span><span style="color: #007700">][</span><span style="color: #0000BB">2</span><span style="color: #007700">]))&nbsp;{<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;after&nbsp;that,&nbsp;teleport&nbsp;player&nbsp;to&nbsp;outside of&nbsp;nearest&nbsp;entrance<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SetPlayerPos</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">0</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">1</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">2</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SetPlayerFacingAngle</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">3</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB"> <br /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SetPlayerInterior</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SetPlayerVirtualWorld</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #FF8000">//&nbsp;change player&nbsp;variable&nbsp;to&nbsp;-1&nbsp;to&nbsp;avoid&nbsp;false&nbsp;detection.<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PlayerInEntrance</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">]&nbsp;=&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #007700">}<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">}<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">GetNearestEntrance</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">Float</span><span style="color: #007700">:</span><span style="color: #0000BB">radius&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">4.0</span><span style="color: #007700">)&nbsp;{<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">for&nbsp;(new&nbsp;</span><span style="color: #0000BB">i</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">MAX_ENTRANCE</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">i&nbsp;</span><span style="color: #007700">++)&nbsp;if&nbsp;(</span><span style="color: #0000BB">IsPlayerInRangeOfPoint</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2.5</span><span style="color: #007700">,</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">0</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">1</span><span style="color: #007700">],</span><span style="color: #0000BB"> EntranceData</span><span style="color: #007700">[</span><span style="color: #0000BB">entId</span><span style="color: #007700">][</span><span style="color: #0000BB">pos</span><span style="color: #007700">][</span><span style="color: #0000BB">2</span><span style="color: #007700">]))&nbsp;{<br /></span><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">i</span><span style="color: #007700">;</span><span style="color: #0000BB"> &nbsp;  <br /> &nbsp;  </span><span style="color: #007700">}<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;</span><span style="color: #007700">return&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}&nbsp;<br /></span></code></div></div></div>
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
<strong>RE: Make simple entrance</strong> - <a href="member8633.html?action=profile&amp;uid=42">Pinch</a> -  <strong>2020-07-30</strong>
<br />
<br />
I recommend usage of <span style="font-weight: bold;" class="mycode_b">Streamer_UpdateEx(...)</span> <span style="font-style: italic;" class="mycode_i">if</span> there is heavy usage of streamer plugin on your server.<br />
<br />
Great tutorial tho!
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
<strong>RE: Make simple entrance</strong> - <a href="memberbf62.html?action=profile&amp;uid=1608">Tama</a> -  <strong>2020-07-31</strong>
<br />
<br />
<blockquote class="mycode_quote"><cite><span> (2020-07-30, 10:04 PM)</span>Pinch Wrote:  <a href="showthread5e2d.html?pid=7776#pid7776" class="quick_jump"></a></cite>I recommend usage of <span style="font-weight: bold;" class="mycode_b">Streamer_UpdateEx(...)</span> <span style="font-style: italic;" class="mycode_i">if</span> there is heavy usage of streamer plugin on your server.</blockquote> Yeah, and also you can use <span style="font-weight: bold;" class="mycode_b">Streamer_ToggleIdleUpdate(...)</span> if you want to make object appear without moving first.<br />
<br />
<blockquote class="mycode_quote"><cite><span> (2020-07-30, 10:04 PM)</span>Pinch Wrote:  <a href="showthread5e2d.html?pid=7776#pid7776" class="quick_jump"></a></cite>Great tutorial tho!</blockquote>Thanks
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --></td>
</tr>
</table>
</body>
</html>
<!-- end: printthread -->