<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><!-- start: printthread -->
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title>Pawn Health not saving in SQLite? - Printable Version</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<style type="text/css">
body { font-family: Verdana, Arial, sans-serif; font-size: 13px; }
.largetext { font-family: Verdana, Arial, sans-serif; font-size: medium; font-weight: bold; }
img { max-width: 100%; height: auto; }
</style>
</head>
<body>
<table width="98%" align="center">
<tr>
<td valign="top"><a href="index-2.html"><img src="images/emerald/logo.html" alt="Burgershot" title="Burgershot" border="0" /></a></td>
</tr>
<tr>
<td>
<span class="largetext"><span style="color: #ff7c7c;font-weight: bold;">[Pawn]</span> <a href="showthread8f59.html?tid=2284">Health not saving in SQLite?</a> - Printable Version</span><br />
<br />
+- Burgershot (<em>https://www.burgershot.gg</em>)<br />
<!-- start: printthread_nav -->
+-- Forum: SA-MP (<i>https://www.burgershot.gg/forumdisplay.php?fid=3</i>)<br />
<!-- end: printthread_nav --><!-- start: printthread_nav -->
+--- Forum: Pawn Scripting (<i>https://www.burgershot.gg/forumdisplay.php?fid=10</i>)<br />
<!-- end: printthread_nav -->
+--- Thread: <span style="color: #ff7c7c;font-weight: bold;">[Pawn]</span> Health not saving in SQLite? (<em>/showthread.php?tid=2284</em>)<br />
<br />
</td>
</tr>
<tr>
<td><br /><hr size="1" /><!-- start: printthread_post -->
<strong>Health not saving in SQLite?</strong> - <a href="memberb415.html?action=profile&amp;uid=3582">CrypticSin</a> -  <strong>2022-04-14</strong>
<br />
<br />
Trying to save player health but doesn't seem to be working i'll like to know what im doing wrong?<br />
<br />
Created a table in OnGameModeInit:<br />
<div class="codeblock phpcodeblock"><div class="title">PHP Code:</div><div class="body"><div dir="ltr"><code><span style="color: #0000BB">db_query</span><span style="color: #007700">(</span><span style="color: #0000BB">server_database</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"CREATE&nbsp;TABLE&nbsp;IF&nbsp;NOT&nbsp;EXISTS&nbsp;`USERS`&nbsp;(`NAME`,&nbsp;`IP`,&nbsp;`REGISTER_DATE`,&nbsp;`PASS`,&nbsp;`SCORE`,&nbsp;`KILLS`,&nbsp;`DEATHS`,&nbsp;`SKIN`,&nbsp;`HEALTH`,&nbsp;`pX`,&nbsp;`pY`,&nbsp;`pZ`,&nbsp;`pA`,&nbsp;`INT`,&nbsp;`WORLD`,&nbsp;`ADMIN`)"</span><span style="color: #007700">);;&nbsp;<br /></span></code></div></div></div><br />
Selecting data:<br />
<div class="codeblock phpcodeblock"><div class="title">PHP Code:</div><div class="body"><div dir="ltr"><code><span style="color: #007700">public&nbsp;</span><span style="color: #0000BB">OnPlayerLogin</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">bool</span><span style="color: #007700">:</span><span style="color: #0000BB">success</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">success</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;</span><span style="color: #0000BB">query</span><span style="color: #007700">[</span><span style="color: #0000BB">256</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">field</span><span style="color: #007700">[</span><span style="color: #0000BB">24</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">field2</span><span style="color: #007700">[</span><span style="color: #0000BB">64</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #0000BB">query</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">sizeof</span><span style="color: #007700">(</span><span style="color: #0000BB">query</span><span style="color: #007700">),&nbsp;</span><span style="color: #DD0000">"SELECT&nbsp;*&nbsp;FROM&nbsp;`USERS`&nbsp;WHERE&nbsp;`NAME`&nbsp;=&nbsp;'%s'&nbsp;COLLATE&nbsp;NOCASE"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">DB_Escape</span><span style="color: #007700">(</span><span style="color: #0000BB">ReturnName</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">)));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">database_result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db_query</span><span style="color: #007700">(</span><span style="color: #0000BB">server_database</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">query</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">db_num_rows</span><span style="color: #007700">(</span><span style="color: #0000BB">database_result</span><span style="color: #007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">db_get_field_assoc</span><span style="color: #007700">(</span><span style="color: #0000BB">database_result</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"ADMIN"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">field</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">sizeof</span><span style="color: #007700">(</span><span style="color: #0000BB">field</span><span style="color: #007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">PlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pAdmin</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">strval</span><span style="color: #007700">(</span><span style="color: #0000BB">field</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">db_get_field_assoc</span><span style="color: #007700">(</span><span style="color: #0000BB">database_result</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"SCORE"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">field</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">sizeof</span><span style="color: #007700">(</span><span style="color: #0000BB">field</span><span style="color: #007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">SetPlayerScore</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">strval</span><span style="color: #007700">(</span><span style="color: #0000BB">field</span><span style="color: #007700">));<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">db_get_field_assoc</span><span style="color: #007700">(</span><span style="color: #0000BB">database_result</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"KILLS"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">field</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">sizeof</span><span style="color: #007700">(</span><span style="color: #0000BB">field</span><span style="color: #007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">PlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pKills</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">strval</span><span style="color: #007700">(</span><span style="color: #0000BB">field</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">db_get_field_assoc</span><span style="color: #007700">(</span><span style="color: #0000BB">database_result</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"DEATHS"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">field</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">sizeof</span><span style="color: #007700">(</span><span style="color: #0000BB">field</span><span style="color: #007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">PlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pDeaths</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">strval</span><span style="color: #007700">(</span><span style="color: #0000BB">field</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">db_get_field_assoc</span><span style="color: #007700">(</span><span style="color: #0000BB">database_result</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"SKIN"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">field</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">sizeof</span><span style="color: #007700">(</span><span style="color: #0000BB">field</span><span style="color: #007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">PlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pSkin</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">strval</span><span style="color: #007700">(</span><span style="color: #0000BB">field</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">db_get_field_assoc</span><span style="color: #007700">(</span><span style="color: #0000BB">database_result</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"REGISTER_DATE"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">field2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">sizeof</span><span style="color: #007700">(</span><span style="color: #0000BB">field2</span><span style="color: #007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">PlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pRegister</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">field2</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">db_get_field_assoc</span><span style="color: #007700">(</span><span style="color: #0000BB">database_result</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"HEALTH"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">field</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">sizeof</span><span style="color: #007700">(</span><span style="color: #0000BB">field</span><span style="color: #007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">PlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pHealth</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">floatstr</span><span style="color: #007700">(</span><span style="color: #0000BB">field</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">db_get_field_assoc</span><span style="color: #007700">(</span><span style="color: #0000BB">database_result</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"pX"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">field</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">sizeof</span><span style="color: #007700">(</span><span style="color: #0000BB">field</span><span style="color: #007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">PlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pX</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">floatstr</span><span style="color: #007700">(</span><span style="color: #0000BB">field</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">db_get_field_assoc</span><span style="color: #007700">(</span><span style="color: #0000BB">database_result</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"pY"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">field</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">sizeof</span><span style="color: #007700">(</span><span style="color: #0000BB">field</span><span style="color: #007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">PlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pY</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">floatstr</span><span style="color: #007700">(</span><span style="color: #0000BB">field</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">db_get_field_assoc</span><span style="color: #007700">(</span><span style="color: #0000BB">database_result</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"pZ"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">field</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">sizeof</span><span style="color: #007700">(</span><span style="color: #0000BB">field</span><span style="color: #007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">PlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pZ</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">floatstr</span><span style="color: #007700">(</span><span style="color: #0000BB">field</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">db_get_field_assoc</span><span style="color: #007700">(</span><span style="color: #0000BB">database_result</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"pA"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">field</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">sizeof</span><span style="color: #007700">(</span><span style="color: #0000BB">field</span><span style="color: #007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">PlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pA</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">floatstr</span><span style="color: #007700">(</span><span style="color: #0000BB">field</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">db_get_field_assoc</span><span style="color: #007700">(</span><span style="color: #0000BB">database_result</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"INT"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">field</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">sizeof</span><span style="color: #007700">(</span><span style="color: #0000BB">field</span><span style="color: #007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">PlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pInt</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">strval</span><span style="color: #007700">(</span><span style="color: #0000BB">field</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">db_get_field_assoc</span><span style="color: #007700">(</span><span style="color: #0000BB">database_result</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"WORLD"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">field</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">sizeof</span><span style="color: #007700">(</span><span style="color: #0000BB">field</span><span style="color: #007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">PlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pWorld</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">strval</span><span style="color: #007700">(</span><span style="color: #0000BB">field</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<br /></span></code></div></div></div><br />
Inserting Health Data:<br />
<div class="codeblock phpcodeblock"><div class="title">PHP Code:</div><div class="body"><div dir="ltr"><code><span style="color: #0000BB"> &nbsp;  <br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">new&nbsp;</span><span style="color: #0000BB">query</span><span style="color: #007700">[</span><span style="color: #0000BB">400</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #0000BB">query</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">sizeof</span><span style="color: #007700">(</span><span style="color: #0000BB">query</span><span style="color: #007700">),&nbsp;</span><span style="color: #DD0000">"INSERT&nbsp;INTO&nbsp;`USERS`&nbsp;(`NAME`,&nbsp;`PASS`,&nbsp;`ADMIN`,&nbsp;`IP`,&nbsp;`REGISTER_DATE`,&nbsp;`SCORE`,&nbsp;`KILLS`,&nbsp;`DEATHS`,&nbsp;`SKIN`,&nbsp;`HEALTH`,&nbsp;`pX`,&nbsp;`pY`,&nbsp;`pZ`,&nbsp;`pA`,&nbsp;`INT`,&nbsp;`WORLD`)&nbsp;VALUES&nbsp;('%s',&nbsp;'%s',&nbsp;%d,&nbsp;'%s',&nbsp;'%s',&nbsp;%d,&nbsp;%d,&nbsp;%d,&nbsp;%d,&nbsp;%f,&nbsp;%f,&nbsp;%f,&nbsp;%f,&nbsp;%f,&nbsp;%d,&nbsp;%d)"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">DB_Escape</span><span style="color: #007700">(</span><span style="color: #0000BB">ReturnName</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">)),&nbsp;</span><span style="color: #0000BB">password</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PLAYER</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">ip</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">Date</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">GetPlayerScore</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">PlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pKills</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">PlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pDeaths</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">GetPlayerSkin</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">PlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pHealth</span><span style="color: #007700">],<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">PlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pX</span><span style="color: #007700">],<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">PlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pY</span><span style="color: #007700">],<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">PlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pZ</span><span style="color: #007700">],<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">PlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pA</span><span style="color: #007700">],<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">PlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pInt</span><span style="color: #007700">],<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">PlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pWorld</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">database_result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db_query</span><span style="color: #007700">(</span><span style="color: #0000BB">server_database</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">query</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">db_free_result</span><span style="color: #007700">(</span><span style="color: #0000BB">database_result</span><span style="color: #007700">);&nbsp;<br /></span></code></div></div></div><br />
Updating Data:<br />
<br />
<div class="codeblock phpcodeblock"><div class="title">PHP Code:</div><div class="body"><div dir="ltr"><code><span style="color: #0000BB"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  <br />stock&nbsp;SaveAccount</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;</span><span style="color: #0000BB">query</span><span style="color: #007700">[</span><span style="color: #0000BB">400</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">Float</span><span style="color: #007700">:</span><span style="color: #0000BB">pos</span><span style="color: #007700">[</span><span style="color: #0000BB">4</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">PlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pLoggedIn</span><span style="color: #007700">]&nbsp;==&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">GetPlayerPos</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">pos</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">pos</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">pos</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">GetPlayerFacingAngle</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">pos</span><span style="color: #007700">[</span><span style="color: #0000BB">3</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">GetPlayerHealth</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pHealth</span><span style="color: #007700">]);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #0000BB">query</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">sizeof</span><span style="color: #007700">(</span><span style="color: #0000BB">query</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"UPDATE&nbsp;`USERS`&nbsp;SET&nbsp;`ADMIN`&nbsp;=&nbsp;%d,&nbsp;`SCORE`&nbsp;=&nbsp;%d,&nbsp;`KILLS`&nbsp;=&nbsp;%d,&nbsp;`DEATHS`&nbsp;=&nbsp;%d,&nbsp;`SKIN`&nbsp;=&nbsp;%d,&nbsp;`HEALTH`&nbsp;=&nbsp;%f,&nbsp;`pX`&nbsp;=&nbsp;%f,&nbsp;`pY`&nbsp;=&nbsp;%f,&nbsp;`pZ`&nbsp;=&nbsp;%f,&nbsp;`pA`&nbsp;=&nbsp;%f,&nbsp;`INT`&nbsp;=&nbsp;%d,&nbsp;`WORLD`&nbsp;=&nbsp;%d,&nbsp;`ADMIN`&nbsp;=&nbsp;%d&nbsp;WHERE&nbsp;`NAME`&nbsp;=&nbsp;'%s'&nbsp;COLLATE&nbsp;NOCASE"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">PlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pAdmin</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">GetPlayerScore</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">PlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pKills</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">PlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pDeaths</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">GetPlayerSkin</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">PlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pHealth</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">pos</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">pos</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">pos</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">pos</span><span style="color: #007700">[</span><span style="color: #0000BB">3</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">GetPlayerInterior</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">GetPlayerVirtualWorld</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">PlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pAdmin</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">DB_Escape</span><span style="color: #007700">(</span><span style="color: #0000BB">ReturnName</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">)));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">database_result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db_query</span><span style="color: #007700">(</span><span style="color: #0000BB">server_database</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">query</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">db_free_result</span><span style="color: #007700">(</span><span style="color: #0000BB">database_result</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}&nbsp;<br /></span></code></div></div></div><br />
Code runs without errors but im still unsure on why its not saving and loading the players health..
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
<strong>RE: Health not saving in SQLite?</strong> - <a href="member036a.html?action=profile&amp;uid=695">Banditul</a> -  <strong>2022-04-14</strong>
<br />
<br />
I'm suprised your create table query even runs because is so wrong <br />
https://www.sqlitetutorial.net/sqlite-create-table/
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
<strong>RE: Health not saving in SQLite?</strong> - <a href="memberb415.html?action=profile&amp;uid=3582">CrypticSin</a> -  <strong>2022-04-14</strong>
<br />
<br />
<blockquote class="mycode_quote"><cite><span> (2022-04-14, 07:25 AM)</span>Banditul Wrote:  <a href="showthread00e5.html?pid=12040#pid12040" class="quick_jump"></a></cite>I'm suprised your create table query even runs because is so wrong <br />
https://www.sqlitetutorial.net/sqlite-create-table/</blockquote><br />
Everything is working fine, my next step is to have the health system saved. <br />
<br />
I know it's not good practice but, ill fix all those later once i fix some of the features i want to add on the server.
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
<strong>RE: Health not saving in SQLite?</strong> - <a href="memberb415.html?action=profile&amp;uid=3582">CrypticSin</a> -  <strong>2022-04-18</strong>
<br />
<br />
I've updated the code slightly and it does run but the Health data still doesn't show on sqlite browser. Any ideas?
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --></td>
</tr>
</table>
</body>
</html>
<!-- end: printthread -->