<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><!-- start: printthread -->
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title>Pawn How to tell user if they are registered or not? - Printable Version</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<style type="text/css">
body { font-family: Verdana, Arial, sans-serif; font-size: 13px; }
.largetext { font-family: Verdana, Arial, sans-serif; font-size: medium; font-weight: bold; }
img { max-width: 100%; height: auto; }
</style>
</head>
<body>
<table width="98%" align="center">
<tr>
<td valign="top"><a href="index-2.html"><img src="images/emerald/logo.html" alt="Burgershot" title="Burgershot" border="0" /></a></td>
</tr>
<tr>
<td>
<span class="largetext"><span style="color: #ff7c7c;font-weight: bold;">[Pawn]</span> <a href="showthread9010.html?tid=2140">How to tell user if they are registered or not?</a> - Printable Version</span><br />
<br />
+- Burgershot (<em>https://www.burgershot.gg</em>)<br />
<!-- start: printthread_nav -->
+-- Forum: SA-MP (<i>https://www.burgershot.gg/forumdisplay.php?fid=3</i>)<br />
<!-- end: printthread_nav --><!-- start: printthread_nav -->
+--- Forum: Pawn Scripting (<i>https://www.burgershot.gg/forumdisplay.php?fid=10</i>)<br />
<!-- end: printthread_nav -->
+--- Thread: <span style="color: #ff7c7c;font-weight: bold;">[Pawn]</span> How to tell user if they are registered or not? (<em>/showthread.php?tid=2140</em>)<br />
<br />
</td>
</tr>
<tr>
<td><br /><hr size="1" /><!-- start: printthread_post -->
<strong>How to tell user if they are registered or not?</strong> - <a href="memberb415.html?action=profile&amp;uid=3582">CrypticSin</a> -  <strong>2021-06-26</strong>
<br />
<br />
I've got a login and registration system which works using SQLlite.<br />
<br />
Im trying to let the server tell the player whether they are registered or not?<br />
<br />
So if they are already registered the server should say "Welcome back 'player' You are already registered on the server please log in to continue." By returning the playername.<br />
<br />
But if they are not registered it should prompt the user with "The 'username' is not registered on this server."<br />
<br />
<div class="codeblock phpcodeblock"><div class="title">PHP Code:</div><div class="body"><div dir="ltr"><code><span style="color: #007700">public&nbsp;</span><span style="color: #0000BB">OnPlayerConnect</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">)<br />{<br /></span><span style="color: #0000BB">SetPlayerCamera</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">);<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;SetPlayerScore</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /></span><span style="color: #0000BB"> &nbsp; &nbsp;<br /> &nbsp; &nbsp;PlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pKills</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">PlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pDeaths</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">PlayerInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">playerid</span><span style="color: #007700">][</span><span style="color: #0000BB">pLoggedIn</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">;<br /><br />new&nbsp;</span><span style="color: #0000BB">query</span><span style="color: #007700">[</span><span style="color: #0000BB">128</span><span style="color: #007700">];<br /></span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #0000BB">query</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">sizeof</span><span style="color: #007700">(</span><span style="color: #0000BB">query</span><span style="color: #007700">),&nbsp;</span><span style="color: #DD0000">"SELECT&nbsp;`NAME`&nbsp;FROM&nbsp;`USERS`&nbsp;WHERE&nbsp;`NAME`&nbsp;=&nbsp;'%s'&nbsp;COLLATE&nbsp;NOCASE"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">DB_Escape</span><span style="color: #007700">(</span><span style="color: #0000BB">ReturnName</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">)));<br /></span><span style="color: #0000BB"> &nbsp;database_result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db_query</span><span style="color: #007700">(</span><span style="color: #0000BB">server_database</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">query</span><span style="color: #007700">);<br /></span><span style="color: #0000BB"> &nbsp;</span><span style="color: #007700">if(</span><span style="color: #0000BB">db_num_rows</span><span style="color: #007700">(</span><span style="color: #0000BB">database_result</span><span style="color: #007700">))<br />{<br /></span><span style="color: #FF8000">//&nbsp;Registered&nbsp;accounts&nbsp;see&nbsp;this&nbsp;login<br /></span><span style="color: #0000BB">ShowPlayerDialog</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">LOGIN_DIALOG</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">DIALOG_STYLE_PASSWORD</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"{FFFFFF}TWDZS:&nbsp;Account&nbsp;Login"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"{FFFFFF}Please&nbsp;enter&nbsp;your&nbsp;password&nbsp;below&nbsp;to&nbsp;login&nbsp;to&nbsp;your&nbsp;account:"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"Enter"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"Leave"</span><span style="color: #007700">);&nbsp;<br />}<br />else<br />{<br /></span><span style="color: #0000BB">ShowPlayerDialog</span><span style="color: #007700">(</span><span style="color: #0000BB">playerid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">REGISTER_DIALOG</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">DIALOG_STYLE_PASSWORD</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"{FFFFFF}TWDZS:&nbsp;Register&nbsp;Account"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"Please&nbsp;enter&nbsp;a&nbsp;strong&nbsp;password&nbsp;to&nbsp;register&nbsp;your&nbsp;account"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"Register"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"Cancel"</span><span style="color: #007700">);<br />}<br />return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br />}&nbsp;<br /></span></code></div></div></div>
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --><!-- start: printthread_post -->
<strong>RE: How to tell user if they are registered or not?</strong> - <a href="member8633.html?action=profile&amp;uid=42">Pinch</a> -  <strong>2021-06-26</strong>
<br />
<br />
https://fiddle.sa-mp.dev/PegmatiteFrozenTuna
<br />
<br />
<hr size="1" />
<!-- end: printthread_post --></td>
</tr>
</table>
</body>
</html>
<!-- end: printthread -->